<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FURINA studies with you</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", sans-serif;
      }

      body {
        background: linear-gradient(
          to right,
          #50c8b1,
          #50c8b1
        ); /* M√†u xanh ng·ªçc cho 2 b√™n */
        background-image: url("furina.jpg");
        background-repeat: no-repeat;
        background-position: center center;
        background-attachment: fixed;
        background-size: contain; /* Gi·ªØ nguy√™n k√≠ch th∆∞·ªõc c·ªßa ·∫£nh Furina */
        min-height: 100vh;
        color: #fff;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      nav {
        position: absolute;
        top: 10px;
        right: 10px;
        z-index: 10;
      }

      .menu-icon {
        font-size: 26px;
        cursor: pointer;
        background: rgba(255, 255, 255, 0.9);
        padding: 8px 12px;
        border-radius: 8px;
        color: black;
      }

      .menu {
        display: none;
        background: rgba(255, 255, 255, 0.95);
        position: absolute;
        right: 0;
        top: 45px;
        list-style: none;
        padding: 10px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      }

      .menu li {
        padding: 10px 20px;
        cursor: pointer;
        color: black;
      }

      .menu li:hover {
        background-color: #eee;
      }

      .content {
        display: none;
        text-align: center;
        width: 100%;
        max-width: 500px;
        margin-top: 40px;
      }

      .active {
        display: block;
      }

      h1,
      h2 {
        margin-bottom: 20px;
        text-shadow: 1px 1px 3px black;
        font-size: 24px;
      }

      #vocab-list {
        text-align: left;
        background: rgba(255, 255, 255, 0.9);
        padding: 20px;
        border-radius: 10px;
        color: black;
      }

      .question-box {
        background: rgba(255, 255, 255, 0.95);
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);
        color: black;
        margin-top: 20px;
      }

      .answers button {
        display: block;
        width: 100%;
        margin: 10px 0;
        padding: 12px;
        font-size: 16px;
        border-radius: 8px;
        border: none;
        background-color: #eee;
        cursor: pointer;
      }

      .answers button:hover {
        background-color: #ddd;
      }

      .summary,
      .status-bar {
        font-size: 18px;
        margin-top: 20px;
      }

      .buttons {
        margin-top: 20px;
      }

      .buttons button {
        margin: 5px;
        padding: 10px 15px;
        font-size: 16px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        background: white;
        color: black;
      }

      #exit-btn {
        position: absolute;
        top: 10px;
        left: 10px;
        background: rgba(255, 50, 50, 0.9);
        color: white;
        border: none;
        padding: 8px 12px;
        font-size: 16px;
        border-radius: 8px;
        cursor: pointer;
        z-index: 10;
        display: none;
      }

      @media (max-width: 600px) {
        h1,
        h2 {
          font-size: 20px;
        }
        .question-box {
          width: 100%;
        }
        .answers button {
          font-size: 15px;
        }
        .menu li {
          font-size: 16px;
        }
      }
    </style>
  </head>
  <body>
    <button id="exit-btn" onclick="showPage('home')">‚ùå Tho√°t</button>

    <nav>
      <div class="menu-icon" onclick="toggleMenu()">‚ò∞</div>
      <ul class="menu" id="menu">
        <li onclick="showPage('home')">Trang ch·ªß</li>
        <li onclick="showPage('vocab')">T·ª´ v·ª±ng</li>
        <li onclick="showPage('game')">Luy·ªán t·∫≠p</li>
      </ul>
    </nav>

    <div class="content active" id="home">
      <h1 style="margin-top: 60px">üéì Ch√†o m·ª´ng ƒë·∫øn v·ªõi trang web!</h1>
      <p>Ch·ªçn m·ª•c tr√™n menu ƒë·ªÉ b·∫Øt ƒë·∫ßu.</p>
    </div>

    <div class="content" id="vocab">
      <h2>üìò Danh s√°ch t·ª´ v·ª±ng</h2>
      <ul id="vocab-list"></ul>
    </div>

    <div class="content" id="game">
      <h2>üß† Tr√≤ ch∆°i luy·ªán t·∫≠p</h2>
      <div class="status-bar" id="status"></div>
      <div class="question-box" id="question-box">
        <div id="question">C√¢u h·ªèi...</div>
        <div class="answers" id="answers"></div>
      </div>
      <div class="summary" id="summary"></div>
      <div class="buttons" id="end-buttons" style="display: none">
        <button onclick="showPage('home')">üè† Trang ch·ªß</button>
        <button onclick="showPage('vocab')">üìò T·ª´ v·ª±ng</button>
        <button onclick="startGame()">üîÅ Ch∆°i l·∫°i</button>
      </div>
    </div>

    <script>
      const words = [
        { en: "apple", vi: "qu·∫£ t√°o" },
        { en: "dog", vi: "con ch√≥" },
        { en: "cat", vi: "con m√®o" },
        { en: "house", vi: "ng√¥i nh√†" },
        { en: "school", vi: "tr∆∞·ªùng h·ªçc" },
        { en: "book", vi: "quy·ªÉn s√°ch" },
        { en: "car", vi: "xe h∆°i" },
        { en: "banana", vi: "qu·∫£ chu·ªëi" },
        { en: "teacher", vi: "gi√°o vi√™n" },
        { en: "student", vi: "h·ªçc sinh" },
      ];

      let currentQuestion = 0;
      let lives = 5;
      let gameWords = [];

      function toggleMenu() {
        const menu = document.getElementById("menu");
        menu.style.display = menu.style.display === "block" ? "none" : "block";
      }

      function showPage(id) {
        document
          .querySelectorAll(".content")
          .forEach((c) => c.classList.remove("active"));
        document.getElementById(id).classList.add("active");
        document.getElementById("menu").style.display = "none";
        document.getElementById("exit-btn").style.display =
          id === "game" ? "block" : "none";

        if (id === "vocab") showVocab();
        if (id === "game") startGame();
      }

      function showVocab() {
        const list = document.getElementById("vocab-list");
        list.innerHTML = "";
        words.forEach((w) => {
          const li = document.createElement("li");
          li.textContent = `${w.en} - ${w.vi}`;
          list.appendChild(li);
        });
      }

      function startGame() {
        currentQuestion = 0;
        lives = 5;
        gameWords = shuffleArray([...words]).slice(0, 20);
        document.getElementById("summary").textContent = "";
        document.getElementById("end-buttons").style.display = "none";
        document.getElementById("question-box").style.display = "block";
        nextQuestion();
      }

      function nextQuestion() {
        if (lives <= 0 || currentQuestion >= gameWords.length) {
          endGame();
          return;
        }

        const q = gameWords[currentQuestion];
        const isEnToVi = Math.random() > 0.5;
        const correct = isEnToVi ? q.vi : q.en;
        const questionText = isEnToVi
          ? `T·ª´ "${q.en}" nghƒ©a l√† g√¨?`
          : `T·ª´ "${q.vi}" l√† g√¨ trong ti·∫øng Anh?`;

        document.getElementById(
          "status"
        ).textContent = `‚ù§Ô∏è M·∫°ng: ${lives} | üî¢ C√¢u: ${currentQuestion + 1}/${
          gameWords.length
        }`;
        document.getElementById("question").textContent = questionText;

        const allAnswers = shuffleArray([q, ...pickRandomWords(q, 3)]).map(
          (w) => (isEnToVi ? w.vi : w.en)
        );

        const answerBox = document.getElementById("answers");
        answerBox.innerHTML = "";
        allAnswers.forEach((ans) => {
          const btn = document.createElement("button");
          btn.textContent = ans;
          btn.onclick = () => {
            if (ans === correct) {
              currentQuestion++;
              nextQuestion();
            } else {
              showWrongAnswerPopup(() => {
                lives--;
                if (lives <= 0) {
                  endGame();
                } else {
                  nextQuestion();
                }
              });
            }
          };
          answerBox.appendChild(btn);
        });
      }

      function showWrongAnswerPopup(callback) {
        const popup = document.createElement("div");
        popup.style.position = "fixed";
        popup.style.top = "50%";
        popup.style.left = "50%";
        popup.style.transform = "translate(-50%, -50%)";
        popup.style.background = "#fff";
        popup.style.color = "#000";
        popup.style.padding = "20px";
        popup.style.borderRadius = "10px";
        popup.style.boxShadow = "0 0 10px rgba(0,0,0,0.3)";
        popup.innerHTML = `
          <p>‚ùå B·∫°n ƒë√£ tr·∫£ l·ªùi sai!</p>
          <button style="margin-top:10px;padding:5px 15px;border:none;background:#333;color:#fff;border-radius:5px;cursor:pointer;">ƒê√≥ng</button>
        `;
        document.body.appendChild(popup);

        const answerButtons = document.querySelectorAll("#answers button");
        answerButtons.forEach((btn) => (btn.disabled = true)); // Disable all buttons

        popup.querySelector("button").onclick = () => {
          document.body.removeChild(popup);
          callback();

          answerButtons.forEach((btn) => (btn.disabled = false)); // Re-enable buttons
        };
      }

      function endGame() {
        document.getElementById("question-box").style.display = "none";
        document.getElementById("status").textContent = "";
        document.getElementById(
          "summary"
        ).textContent = `üéâ K·∫øt th√∫c! B·∫°n tr·∫£ l·ªùi ƒë√∫ng ${currentQuestion} / ${gameWords.length} c√¢u.`;
        document.getElementById("end-buttons").style.display = "block";
      }

      function shuffleArray(arr) {
        return arr.sort(() => Math.random() - 0.5);
      }

      function pickRandomWords(exclude, count) {
        return shuffleArray(words.filter((w) => w !== exclude)).slice(0, count);
      }
    </script>
  </body>
</html>
